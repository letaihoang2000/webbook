<div th:fragment="addBookModal" xmlns:th="http://www.thymeleaf.org">
    <div class="modal fade" id="addBookForm" tabindex="-1" role="dialog"
         aria-labelledby="addBookModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
            <div class="modal-content">
                <form id="bookForm" enctype="multipart/form-data">
                    <div class="modal-header">
                        <h5 class="modal-title" id="addBookModalTitle">Create Book</h5>
                        <button type="button" class="close" data-dismiss="modal"
                                aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>

                    <div class="modal-body">
                        <!-- Row 1: Title + Published Date -->
                        <div class="row">
                            <div class="col-md-8 mb-3">
                                <label class="form-label" for="title">Title *</label>
                                <input type="text" id="title" name="title"
                                       class="form-control" required />
                            </div>
                            <div class="col-md-4 mb-3">
                                <label class="form-label" for="published_date">Published Date</label>
                                <input type="date" id="published_date" name="published_date"
                                       class="form-control" />
                            </div>
                        </div>

                        <!-- Row 2: Author + Category -->
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label" for="author">Author *</label>
                                <select id="author" name="author" class="form-select" required>
                                    <option value="">-- Select Author --</option>
                                    <option th:each="author : ${authors}"
                                            th:value="${author.name}"
                                            th:text="${author.name}">Author Name</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label" for="category_type">Category *</label>
                                <select id="category_type" name="category_type"
                                        class="form-select" required>
                                    <option value="">-- Select Category --</option>
                                    <option th:each="category : ${categories}"
                                            th:value="${category.id}"
                                            th:text="${category.name}">Category Name</option>
                                </select>
                            </div>
                        </div>

                        <!-- Row 3: Page + Price -->
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label" for="page">Page</label>
                                <input type="number" id="page" name="page"
                                       class="form-control" min="1" />
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label" for="price">Price</label>
                                <input type="number" step="0.01" min="0"
                                       id="price" name="price"
                                       class="form-control" />
                            </div>
                        </div>

                        <!-- Row 4: Image + Content file -->
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label" for="imageFile">Cover Image</label>
                                <input type="file" id="imageFile" name="imageFile"
                                       class="form-control" accept="image/*" />
                                <small class="text-muted">Max 10MB (jpg, png, webp)</small>
                                <div id="imagePreview" class="mt-2" style="display: none;">
                                    <img src="" alt="Preview" style="max-width: 100%; max-height: 150px; border-radius: 4px;">
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label" for="contentFile">Content File (PDF)</label>
                                <input type="file" id="contentFile" name="contentFile"
                                       class="form-control" accept="application/pdf" />
                                <small class="text-muted">Max 50MB</small>
                                <div id="pdfInfo" class="mt-2 text-muted" style="display: none;">
                                    <i class="fas fa-file-pdf me-1"></i>
                                    <span id="pdfName"></span>
                                    <span id="pdfSize" class="ms-2"></span>
                                </div>
                            </div>
                        </div>

                        <!-- Description -->
                        <div class="mb-3">
                            <label class="form-label" for="description">Description</label>
                            <textarea id="description" name="description"
                                      class="form-control" rows="3"></textarea>
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary"
                                data-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary">
                            <i class="fas fa-plus me-1"></i>Create Book
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>