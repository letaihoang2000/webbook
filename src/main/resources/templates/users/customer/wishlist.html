<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>My Wishlist - BookSaw</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">

    <link rel="stylesheet" th:href="@{/css/normalize.css}">
    <link rel="stylesheet" th:href="@{/icomoon/icomoon.css}">
    <link rel="stylesheet" th:href="@{/css/vendor.css}">
    <link rel="stylesheet" th:href="@{/css/customer/home.css}">
    <link rel="stylesheet" th:href="@{/css/customer/navbar.css}">
    <link rel="stylesheet" th:href="@{/css/customer/wishlist.css}">
    <link rel="stylesheet" th:href="@{/css/customer/navbar-badges.css}">
    <link rel="stylesheet" th:href="@{/css/customer/toast-notifications.css}">
</head>

<body data-bs-spy="scroll" data-bs-target="#header" tabindex="0">

<!-- Include Navbar Fragment -->
<div th:replace="~{fragments/customer_navbar :: navbar}"></div>

<!-- Page Header Section -->
<section id="wishlist-header" class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="section-header align-center">
                    <div class="title">
                        <span>Your favorites</span>
                    </div>
                    <h2 class="section-title">My Wishlist</h2>
                    <p class="results-info" th:if="${totalBooks > 0}">
                        You have <strong th:text="${totalBooks}"></strong>
                        <span th:text="${totalBooks == 1} ? 'book' : 'books'">books</span> in your wishlist
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Wishlist Grid Section -->
<section id="wishlist-grid" class="bookshelf py-5 my-5">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <!-- Wishlist Grid -->
                <div class="wishlist-items" th:if="${!books.isEmpty()}">
                    <div class="row">
                        <div class="col-md-3 col-sm-6 mb-4" th:each="book : ${books}">
                            <div class="wishlist-item" th:attr="data-book-id=${book.book_id}">
                                <figure class="product-style">
                                    <a th:href="@{/customer/book/{id}(id=${book.book_id})}">
                                        <img th:src="${book.image}"
                                             th:alt="${book.title}"
                                             class="product-item">
                                    </a>

                                    <!-- Action Icons Overlay with Remove Button -->
                                    <div class="product-actions">
                                        <!-- View Details Button -->
                                        <a th:href="@{/customer/book/{id}(id=${book.book_id})}"
                                           class="action-btn view-btn"
                                           title="View Details">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
                                                <path d="M288 80c-65.2 0-118.8 29.6-159.9 67.7C89.6 183.5 63 226 49.4 256c13.6 30 40.2 72.5 78.6 108.3C169.2 402.4 222.8 432 288 432s118.8-29.6 159.9-67.7C486.4 328.5 513 286 526.6 256c-13.6-30-40.2-72.5-78.6-108.3C406.8 109.6 353.2 80 288 80zM95.4 112.6C142.5 68.8 207.2 32 288 32s145.5 36.8 192.6 80.6c46.8 43.5 78.1 95.4 93 131.1c3.3 7.9 3.3 16.7 0 24.6c-14.9 35.7-46.2 87.7-93 131.1C433.5 443.2 368.8 480 288 480s-145.5-36.8-192.6-80.6C48.6 356 17.3 304 2.5 268.3c-3.3-7.9-3.3-16.7 0-24.6C17.3 208 48.6 156 95.4 112.6zM288 336c44.2 0 80-35.8 80-80s-35.8-80-80-80c-.7 0-1.3 0-2 0c1.3 5.1 2 10.5 2 16c0 35.3-28.7 64-64 64c-5.5 0-10.9-.7-16-2c0 .7 0 1.3 0 2c0 44.2 35.8 80 80 80zm0-208a128 128 0 1 1 0 256 128 128 0 1 1 0-256z"/>
                                            </svg>
                                        </a>

                                        <!-- Add to Cart Button -->
                                        <button type="button"
                                                class="action-btn cart-btn"
                                                title="Add to Cart">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
                                                <path d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"/>
                                            </svg>
                                        </button>

                                        <!-- Remove from Wishlist Button (X icon) -->
                                        <button type="button"
                                                class="action-btn remove-wishlist-btn"
                                                th:attr="data-book-id=${book.book_id}"
                                                title="Remove from Wishlist">
                                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512">
                                                <path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/>
                                            </svg>
                                        </button>
                                    </div>
                                </figure>

                                <figcaption>
                                    <div class="item-category" th:text="${book.category_name}">Category</div>
                                    <h3 class="item-title">
                                        <a th:href="@{/customer/book/{id}(id=${book.book_id})}"
                                           th:text="${book.title}">Book Title</a>
                                    </h3>
                                    <span class="item-author" th:text="${book.author_name}">Author Name</span>
                                    <div class="item-price">$ <span th:text="${book.price}">0.00</span></div>
                                </figcaption>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Empty Wishlist Message -->
                <div class="empty-wishlist" th:if="${books.isEmpty()}">
                    <div class="text-center py-5">
                        <i class="icon icon-heart-o" style="font-size: 5rem; color: #ccc;"></i>
                        <h3 class="mt-4">Your wishlist is empty</h3>
                        <p class="text-muted mb-4">Start adding books you love to your wishlist!</p>
                        <a th:href="@{/customer/all-books}" class="btn btn-accent">
                            <i class="icon icon-book"></i> Browse Books
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Footer -->
<footer id="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-4">
                <div class="footer-item">
                    <div class="company-brand">
                        <img th:src="@{/images/main-logo.png}" alt="logo" class="footer-logo">
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sagittis sed ptibus liberolectus
                            nonet psryroin.</p>
                    </div>
                </div>
            </div>

            <div class="col-md-2">
                <div class="footer-menu">
                    <h5>About Us</h5>
                    <ul class="menu-list">
                        <li class="menu-item"><a href="#">vision</a></li>
                        <li class="menu-item"><a href="#">articles</a></li>
                        <li class="menu-item"><a href="#">careers</a></li>
                    </ul>
                </div>
            </div>

            <div class="col-md-2">
                <div class="footer-menu">
                    <h5>Discover</h5>
                    <ul class="menu-list">
                        <li class="menu-item"><a th:href="@{/customer/home}">Home</a></li>
                        <li class="menu-item"><a th:href="@{/customer/all-books}">Books</a></li>
                        <li class="menu-item"><a href="#">Authors</a></li>
                    </ul>
                </div>
            </div>

            <div class="col-md-2">
                <div class="footer-menu">
                    <h5>My account</h5>
                    <ul class="menu-list">
                        <li class="menu-item"><a th:href="@{/wishlist}">My Wishlist</a></li>
                        <li class="menu-item"><a href="#">View Cart</a></li>
                        <li class="menu-item"><a href="#">My Orders</a></li>
                    </ul>
                </div>
            </div>

            <div class="col-md-2">
                <div class="footer-menu">
                    <h5>Help</h5>
                    <ul class="menu-list">
                        <li class="menu-item"><a href="#">Help center</a></li>
                        <li class="menu-item"><a href="#">Contact us</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</footer>

<div id="footer-bottom">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="copyright">
                    <div class="row">
                        <div class="col-md-6">
                            <p>Â© 2022 All rights reserved. Free HTML Template by
                                href="https://www.templatesjungle.com/" target="_blank">TemplatesJungle</a></p>
                        </div>
                        <div class="col-md-6">
                            <div class="social-links align-right">
                                <ul>
                                    <li><a href="#"><i class="icon icon-facebook"></i></a></li>
                                    <li><a href="#"><i class="icon icon-twitter"></i></a></li>
                                    <li><a href="#"><i class="icon icon-youtube-play"></i></a></li>
                                    <li><a href="#"><i class="icon icon-behance-square"></i></a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div th:replace="~{modals/customer/signout :: logoutModal}"></div>

<script th:src="@{/js/jquery-1.11.0.min.js}"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>
<script th:src="@{/js/plugins.js}"></script>
<script th:src="@{/js/script.js}"></script>
<script th:src="@{/js/customer/signout.js}"></script>
<script th:src="@{/js/customer/wishlist.js}"></script>
<script th:src="@{/js/customer/add_to_cart.js}"></script>

</body>
</html>